#SET{definitions,#ARRAY}

[(#ENV{type}|oui)
	#SET{definitions, #ENV{_definitions}|table_valeur{#ENV{type}}}
]

[(#SAISIE{selection, type, obligatoire=oui,
	label=<:mp_message:champ_type_label:>,
	data=#ENV{_types}})]

<BOUCLE_declencheurs(DATA){source tableau, #GET{definitions}}>
	[(#SAISIE{selection, #CLE,
		label=[(#VAL{mp_message:champ_[(#CLE)]_label}|_T)],
		data=#VALEUR})]
</BOUCLE_declencheurs>

<script type="text/javascript">
	$(function() {
		$("#champ_type").change(function(event) {
			$("option:selected", $(this)).each(function() {
				var type = $(this).attr('value');
				ajaxReload('champs_specifiques', {
					args : {
						type : type,
					}
				});
			});
		});
	});
</script>